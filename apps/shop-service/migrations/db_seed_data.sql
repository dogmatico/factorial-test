-- Autogenerated demo data using a LLM

INSERT INTO product_category (name, description, display_order) VALUES
  ('Bicycles', 'Fully customizable bicycles for all terrains', 1),
  ('Accessories', 'Bicycle accessories and components', 2);

-- Bicycle parts
INSERT INTO product_component (name, description) VALUES
  ('Frame Type', 'Main bicycle frame structure'),
  ('Frame Finish', 'Visual and protective coating'),
  ('Wheels', 'Wheel type for different terrains'),
  ('Rim Color', 'Visual customization of rims'),
  ('Chain', 'Drivetrain component');


-- COMPONENT OPTIONS

-- Frame Types
INSERT INTO product_component_option (product_component_id, name, base_price) VALUES
  (1, 'Full-suspension', 130.00),
  (1, 'Diamond', 100.00),
  (1, 'Step-through', 110.00);

-- Frame Finishes
INSERT INTO product_component_option (product_component_id, name, base_price) VALUES
  (2, 'Matte', 35.00),  -- Base price for diamond frame
  (2, 'Shiny', 30.00);

-- Wheels
INSERT INTO product_component_option (product_component_id, name, base_price) VALUES
  (3, 'Road wheels', 80.00),
  (3, 'Mountain wheels', 90.00),
  (3, 'Fat bike wheels', 120.00);

-- Rim Colors
INSERT INTO product_component_option (product_component_id, name, base_price) VALUES
  (4, 'Red', 15.00),
  (4, 'Black', 20.00),
  (4, 'Blue', 20.00);

-- Chains
INSERT INTO product_component_option (product_component_id, name, base_price) VALUES
  (5, 'Single-speed chain', 43.00),
  (5, '8-speed chain', 55.00);

-- CATEGORY-COMPONENT RELATIONSHIP

-- All components belong to Bicycles category
INSERT INTO product_category_component (product_category_id, product_component_id, quantity, display_order) VALUES
  (1, 1, 1, 1),
  (1, 2, 1, 2),
  (1, 3, 1, 3),
  (1, 4, 1, 4),
  (1, 5, 1, 5);

-- INVENTORY

INSERT INTO inventory (product_component_option_id, total_stock) VALUES
  (1, 10), (2, 15), (3, 8),    -- Frame types
  (4, 20), (5, 20),            -- Frame finishes
  (6, 12), (7, 5), (8, 3),     -- Wheels (fat bike wheels low stock)
  (9, 0), (10, 25), (11, 25),  -- Rim colors (red out of stock)
  (12, 30), (13, 30);          -- Chains

-- COMPATBILITY/SUPPLEMENTS

-- 1 Fat bike wheels cannot have red rims
INSERT INTO product_component_option_rule (product_component_option_id_1, product_component_option_id_2, kind, rule_value) VALUES
(8, 9, 'FORBIDDEN', '{"message":"Fat bike wheels cannot have red rims"}');

-- 2. Matte finish price supplement for full-suspension (+15 EUR)
INSERT INTO product_component_option_rule (product_component_option_id_1, product_component_option_id_2, kind, rule_value) VALUES
(1, 4, 'SUPPLEMENT', '{"price_adjustment":15.00,"message":"Matte finish supplement for full-suspension frames"}');


-- SAMPLE BASE CONFIG

-- Road Bike Configuration
INSERT INTO product_configuration (name, description, product_component_id, is_base_configuration) VALUES
  ('Standard Road Bike', 'Lightweight road bike configuration', 1, 1);

INSERT INTO product_configuration_component_option (product_configuration_id, product_component_option_id, quantity) VALUES
  (1, 2, 1),  -- Diamond frame
  (1, 5, 1),  -- Shiny finish
  (1, 6, 1),  -- Road wheels
  (1, 10, 1), -- Black rims
  (1, 12, 1); -- Single-speed chain

-- Mountain Bike Configuration
INSERT INTO product_configuration (name, description, product_component_id, is_base_configuration) VALUES
  ('Standard Mountain Bike', 'Durable mountain bike configuration', 1, 1);

INSERT INTO product_configuration_component_option (product_configuration_id, product_component_option_id, quantity) VALUES
  (2, 1, 1),  -- Full-suspension frame
  (2, 4, 1),  -- Matte finish
  (2, 7, 1),  -- Mountain wheels
  (2, 10, 1), -- Black rims
  (2, 13, 1); -- 8-speed chain
